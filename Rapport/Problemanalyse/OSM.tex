Da vi havde designet vores første del af programmet ud fra Krak-datasættet, valgte vi at benytte denne datastruktur som udgangspunktet for vores program. Derfor havde vi et behov for at omforme OSM-datasættet til dette format. Der var dog flere forhindringer ved dette. For det første var mængden af data i OSM-datasættet enormt. Der var så meget data, at ingen af vores mappedatamater var i stand til at kunne læse hele datasættet på én gang. Derudover stemte datasættet ikke fuldkommen overens med retningslinjerne i dokumentationen, f.eks rækkefølgen af forskellige værdier i en node. Til sidst var datastrukturen anderledes bygget op end Krak. Alle disse hindringer skabte en følelse af, at man ikke kunne se skoven for bar' (quad)træer, at information om dataet var utilgængelig. Dataet kunne først ses, efter at man havde filtreret i den, og det var svært at vide, hvad man skulle filtrere efter. I starten forsøgte vi filtrere dataet hurtigst muligt, ved at gemme den ønskede data i hukommelsen, men hukommelsesforbruget blev hurtigt for stort. Herefter skiftede til en langsommere løsningsmodel, hvor vi benyttede swapfiler på fastpladelagereret.Generelt lykkedes det os at få store dele af den ønskede data med over, men der var dog nogle ting, vi ikke kunne få til at virke i fyldestgørende grad:

\begin{itemize}
	\item \textbf{Vejhastigheder:} Det mest sigende mærkat(tag) vi kunne finde, var knyttet til vej-objekter(way) i OSM. Desværre var det kun 1/3 af vejene der havde dette mærkat tilknyttet. Resten havde ingen hastighedsmarkering. Vi fandt i dokumentationen et tegn på, at man kunne gå ud fra, at der var visse hastigheder i byzoner og lignende. Desværre kunne vi ikke finde belæg for, at sådanne zoner var tydeligt markeret i datasættet. En potentiel løsning på dette kunne være at benytte de punkter, der markerer byer, og ud fra dem lave en antagelse om, at alle vejstykker(edges), der er inden for x afstand fra dette punkt, er inde for bygrænsen. Men denne antagelse ville være baseret på løse gæt, og derved heller ikke give et sandfærdigt indtryk.
	\item \textbf{postnumre knyttet til veje:} Vi skulle benytte denne information i tilfælde at flere veje havde samme navn. Desværre understøttede OSM ikke dette, da OSM havde knyttet deres postadresser til adressepunkter, der ikke var forbundet med veje. Igen ledte vi efter en potentiel zonemarkering, men kunne ikke finde belæg for, at sådanne zoner var tydeligt markeret i datasættet. En potentiel løsning ville være at finde nærmeste adressepunkt på en vejdel, og så benytte det postnummer, som der er knyttet til dette punkt. Denne løsning har vi ikke implementeret.
\end{itemize}

Vi har valgt begrænse os til de punkter, der er en del af en vej, og ud af de veje beholder vi kun dem, der indeholder et vejtypemærkat. Det er nødvendigt at lave et tilvalgssortering frem for en frasortering, da der er så store datamængder. Metadata i OSM-datasættet var generelt gemt i en række mærkater, der består af en nøgle og en værdi. Antallet af mærkatnøgler er dog utrolig stort, og der er ikke nogle form for praktisk begrænsning af brugen af nøglerne. Vi har efter længere research valgt at gøre brug af følgende nøgler:

\begin{itemize}
	\item \textbf{name:} Dette mærkat indeholder vejnavnet
	\item \textbf{highway:} Dette mærkat indeholder vejtypen(motorvej, landevej, gågade etc.)
	\item \textbf{maxspeed:} Dette mærkat indeholder den højeste tilladte transporthastighed
	\item \textbf{natural=coast:} Dette mærkat indeholder kystlinjen
\end{itemize}

For at få et scope 0->1000 på vores xy-koordinatsæt, måtte vi benytte følgende formel på vores UTM-koordinater $newCoordinate = \\(UTMCoordinate-lowestUTMCoordinate) * (1000/(highestUTMCoordinate-lowestUTMCoordinate)) $\\ Derudover spejler vi længdebredderne, så verdenshjørnerne passer til den almindelige kortstandard.
